<!-- Header Section -->

<section
  class="relative bg-[var(--color-bg)] dark:bg-[var(--color-bg)] text-[var(--color-text-main)] dark:text-[var(--color-text-main)] overflow-hidden py-32"
>
  <!-- خلفية Blob SVG -->
  <svg
    class="absolute top-[-100px] left-[-100px] w-[400px] h-[400px] text-blue-100 dark:text-blue-900 opacity-20 z-0"
    viewBox="0 0 200 200"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill="currentColor"
      d="M48.2,-62.4C62.8,-52.6,75.3,-37.8,78.5,-21.8C81.6,-5.9,75.3,10.2,67.1,25.4C59,40.6,48.9,54.9,35.3,64.7C21.6,74.5,4.5,79.8,-12.3,83.3C-29.2,86.9,-46,88.7,-58.4,80.5C-70.9,72.3,-79,54.2,-82.2,37.1C-85.3,20.1,-83.4,4.2,-80.1,-11.1C-76.7,-26.4,-72,-41.2,-61.4,-51.8C-50.9,-62.4,-34.6,-68.8,-18.1,-74.3C-1.7,-79.7,14.9,-84.3,30.7,-80.9C46.6,-77.4,61.6,-65.8,48.2,-62.4Z"
      transform="translate(100 100)"
    />
  </svg>

  <div
    class="container mx-auto flex flex-col-reverse md:flex-row items-center px-6 gap-10 relative z-10"
  >
    <!-- النص -->
    <div class="w-full md:w-1/2 text-center md:text-start z-10 animate-fade-in">
      <h1
        class="text-3xl sm:text-4xl lg:text-5xl font-extrabold mb-4 bg-gradient-to-r from-[var(--color-primary)] to-blue-400 dark:to-blue-500 text-transparent bg-clip-text leading-tight"
      >
        {{ "HOME_SECTION.TITLE" | translate }}
      </h1>
      <p
        class="text-[var(--color-text-secondary)] leading-relaxed text-base max-w-lg"
      >
        {{ "HOME_SECTION.DESCRIPTION" | translate }}
      </p>

      <!-- أزرار CTA -->
      <div class="flex flex-wrap justify-center md:justify-start gap-4 mt-6">
        <a
          routerLink="/contact"
          class="group px-6 py-3 rounded-lg text-white bg-[var(--color-primary)] hover:bg-[var(--color-primary-hover)] transition font-semibold shadow-md flex items-center gap-2"
        >
          {{ "HOME_SECTION.CONTACT_US" | translate }}
          <svg
            class="w-5 h-5 transition-transform group-hover:translate-x-1"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            viewBox="0 0 24 24"
          >
            <path d="M5 12h14M12 5l7 7-7 7" />
          </svg>
        </a>

        <a
          routerLink="/productdetailes"
          class="px-6 py-3 rounded-lg border border-[var(--color-primary)] text-[var(--color-primary)] hover:bg-[var(--color-primary)] hover:text-white transition font-semibold shadow-md"
        >
          {{ "HOME_SECTION.LEARN_MORE" | translate }}
        </a>
      </div>
    </div>

    <!-- الصورة -->
    <div class="w-full md:w-1/2 relative animate-slide-in">
      <div
        class="aspect-[4/3] overflow-hidden rounded-2xl shadow-xl group custom-clip-image"
      >
        <picture>
          <source srcset="/img/3.webp" type="image/webp" />
          <img
            src="/img/3.webp"
            alt="{{ 'HOME_SECTION.TITLE' | translate }} | شركة مصر للتوريدات"
            class="w-full h-full object-cover transition duration-500 group-hover:scale-105 group-hover:shadow-2xl"
            loading="eager"
            fetchpriority="high"
          />
        </picture>
      </div>
    </div>
  </div>
</section>

<!-- About Section -->

<section
  [animateOnView]="'animate-slide-in'"
  class="opacity-0 relative bg-[var(--color-bg-section)] dark:bg-[var(--color-bg-section)] py-24 overflow-hidden shadow-2xl rounded-3xl mx-4 sm:mx-10 lg:mx-20"
>
  <!-- ✅ خلفية Blob -->
  <div
    class="absolute top-[-100px] left-[-100px] w-[400px] h-[400px] text-blue-200 dark:text-blue-900 opacity-20 z-0"
  >
    <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
      <path
        fill="currentColor"
        d="M48.2,-62.4C62.8,-52.6,75.3,-37.8,78.5,-21.8C81.6,-5.9,75.3,10.2,67.1,25.4C59,40.6,48.9,54.9,35.3,64.7C21.6,74.5,4.5,79.8,-12.3,83.3C-29.2,86.9,-46,88.7,-58.4,80.5C-70.9,72.3,-79,54.2,-82.2,37.1C-85.3,20.1,-83.4,4.2,-80.1,-11.1C-76.7,-26.4,-72,-41.2,-61.4,-51.8C-50.9,-62.4,-34.6,-68.8,-18.1,-74.3C-1.7,-79.7,14.9,-84.3,30.7,-80.9C46.6,-77.4,61.6,-65.8,48.2,-62.4Z"
        transform="translate(100 100)"
      />
    </svg>
  </div>

  <!-- ✅ المحتوى الرئيسي -->
  <div
    class="container mx-auto px-6 max-w-6xl relative z-10 grid md:grid-cols-2 gap-12 items-center"
  >
    <!-- 🎥 الصوره  -->
    <div class="rounded-2xl overflow-hidden shadow-xl relative">
      <img
        class="aspect-[4/3] h-auto w-full object-contain rounded-2xl transition-opacity duration-700 ease-in-out"
        [class.opacity-0]="isTransitioning()"
        src="/img/installation.webp"
        alt="Team in industry"
      />
    </div>

    <!-- 📝 النص -->
    <div class="text-center md:text-left animate-fade-in">
      <h2
        class="text-4xl font-extrabold mb-6 text-[var(--color-primary)] relative inline-block"
      >
        <span class="relative block">
          {{ "ABOUT_SECTION.TITLE_MAIN" | translate }}
          <span
            class="absolute left-0 bottom-0 w-full h-1 bg-[var(--color-primary)] animated-underline"
          ></span>
        </span>
      </h2>

      <!-- النص القابل للتمديد -->
      <div
        class="transition-all duration-500 ease-in-out overflow-hidden"
        [style.maxHeight]="showFullText() ? '1000px' : '4rem'"
      >
        <p
          class="text-lg text-[color-mix(in srgb, black 70%, transparent)] dark:text-[color-mix(in srgb, white 70%, transparent)] leading-relaxed"
        >
          {{ "ABOUT_SECTION.SHORT_DESC" | translate }}
        </p>
      </div>

      <!-- الزر -->
      <button
        (click)="toggleShowFullText()"
        class="mt-6 inline-flex items-center gap-2 px-6 py-2 rounded-full border border-[var(--color-primary)] text-[var(--color-primary)] dark:border-white dark:text-white font-medium hover:bg-[var(--color-primary)] hover:text-white dark:hover:bg-white dark:hover:text-[var(--color-primary)] transition-all duration-300 group active:scale-95"
      >
        {{
          showFullText()
            ? ("ABOUT_SECTION.SHOW_LESS" | translate)
            : ("ABOUT_SECTION.LEARN_MORE" | translate)
        }}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 transition-transform duration-300 group-hover:translate-x-1"
          [class.rotate-180]="showFullText()"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M9 5l7 7-7 7"
          />
        </svg>
      </button>

      <!-- الإحصائيات -->
      <div
        class="grid grid-cols-2 sm:grid-cols-4 gap-6 text-center mt-10 overflow-x-auto sm:overflow-visible"
      >
        <div class="flex flex-col items-center gap-1">
          <svg
            class="w-8 h-8 text-[var(--color-primary)]"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            viewBox="0 0 24 24"
          >
            <path d="M12 6v6l4 2"></path>
          </svg>
          <h3 class="text-3xl font-bold text-[var(--color-primary)]">
            +{{ yearsExperience() }}
          </h3>
          <p class="text-sm text-[var(--color-text-secondary)]">
            {{ "ABOUT_SECTION.YEARS_EXPERIENCE" | translate }}
          </p>
        </div>

        <div class="flex flex-col items-center gap-1">
          <svg
            class="w-8 h-8 text-[var(--color-primary)]"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            viewBox="0 0 24 24"
          >
            <path d="M16 12H8"></path>
          </svg>
          <h3 class="text-3xl font-bold text-[var(--color-primary)]">
            +{{ clients() }}
          </h3>
          <p class="text-sm text-[var(--color-text-secondary)]">
            {{ "ABOUT_SECTION.CLIENTS" | translate }}
          </p>
        </div>

        <div class="flex flex-col items-center gap-1">
          <svg
            class="w-8 h-8 text-[var(--color-primary)]"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            viewBox="0 0 24 24"
          >
            <path d="M3 12h18"></path>
          </svg>
          <h3 class="text-3xl font-bold text-[var(--color-primary)]">
            +{{ projects() }}
          </h3>
          <p class="text-sm text-[var(--color-text-secondary)]">
            {{ "ABOUT_SECTION.PROJECTS" | translate }}
          </p>
        </div>

        <div class="flex flex-col items-center gap-1">
          <svg
            class="w-8 h-8 text-[var(--color-primary)]"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            viewBox="0 0 24 24"
          >
            <path d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
          <h3 class="text-3xl font-bold text-[var(--color-primary)]">
            +{{ satisfaction() }}%
          </h3>
          <p class="text-sm text-[var(--color-text-secondary)]">
            {{ "ABOUT_SECTION.SATISFACTION" | translate }}
          </p>
        </div>
      </div>

      <!-- زر CTA -->
      <div class="text-center md:text-left mt-10">
        <a
          routerLink="/contact"
          class="inline-block px-8 py-4 bg-[var(--color-primary)] text-white rounded-full shadow-lg hover:bg-white hover:text-[var(--color-primary)] border border-[var(--color-primary)] transition"
        >
          {{ "ABOUT_SECTION.CTA_CONTACT_US" | translate }}
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Products Section -->

<section
  id="products-section"
  class="relative bg-[var(--color-bg)] text-[var(--color-text-main)] overflow-hidden py-24 sm:py-32 transition-opacity duration-700 ease-in-out opacity-0"
  [animateOnView]="'animate-fade-in'"
>
  <!-- ✅ SVG محطوطة بعد المحتوى -->
  <div
    class="absolute bottom-[-100px] left-[-100px] w-[400px] h-[400px] text-blue-100 dark:text-blue-900 opacity-20 z-0 pointer-events-none select-none"
  >
    <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
      <path
        fill="currentColor"
        d="M44.8,-51.6C59.1,-39.3,71.8,-19.6,73.1,1.6C74.4,22.8,64.3,45.5,49.2,56.6C34.2,67.7,14.1,67.2,-5.3,69.4C-24.7,71.6,-49.4,76.6,-61.4,65.1C-73.3,53.7,-72.5,25.9,-64.6,4.4C-56.7,-17.2,-41.8,-31.5,-27.7,-44C-13.7,-56.6,0.6,-67.4,15.3,-68.5C30,-69.6,45.5,-61.9,44.8,-51.6Z"
        transform="translate(100 100)"
      />
    </svg>
  </div>

  <div class="container mx-auto px-6 relative z-10">
    <!-- ✅ العنوان -->
    <div class="text-center max-w-3xl mx-auto mb-16 sm:mb-20">
      <h2
        class="text-3xl sm:text-5xl font-extrabold text-[var(--color-primary)] mb-6 relative"
      >
        <span class="inline-block relative">
          {{ "PRODUCTS_SECTION.TITLE_MAIN" | translate }}
          <span
            class="absolute bottom-0 left-0 w-full h-1 bg-[var(--color-primary)] rounded-full animate-pulse"
          ></span>
        </span>
      </h2>
      <p class="text-lg text-[var(--color-text-secondary)] leading-relaxed">
        {{ "PRODUCTS_SECTION.DESCRIPTION" | translate }}
      </p>
    </div>

    <!-- ✅ المنتجات -->
    <div class="grid grid-cols-2 md:grid-cols-3 gap-6">
      @for ( product of [ { img: 'Ceilings.webp', key: 'CEILINGS', alt:
      'Ceilings Category' }, { img: 'Cement.webp', key: 'CEMENT', alt: 'Cement
      Category' }, { img: 'ai-generated-modern-styled-entryway.webp', key:
      'INSULATION', alt: 'Insulation Category' }, { img: 'marble.webp', key:
      'MARBLE', alt: 'Marble Category' }, { img: 'gypsum.webp', key: 'GYPSUM',
      alt: 'Gypsum Category' }, { img: 'aluminum.webp', key: 'ALUMINUM', alt:
      'Aluminum Category' }, ]; track product ) {
      <div
        class="relative rounded-2xl overflow-hidden shadow-xl transition-transform duration-500 hover:scale-[1.03] aspect-[4/3] group"
        [style.animationDelay]="product.key.length * 10 + 'ms'"
      >
        <img
          [src]="'/img/' + product.img"
          [alt]="product.alt"
          class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
          loading="lazy"
          decoding="async"
          width="400"
          height="300"
          fetchpriority="low"
        />
        <div
          class="absolute inset-0 bg-black/40 group-hover:bg-black/50 transition duration-300"
        ></div>
        <h3 class="absolute bottom-4 right-4 text-white text-xl font-bold z-10">
          {{ "PRODUCTS_SECTION.CATEGORIES." + product.key | translate }}
        </h3>
      </div>
      }
    </div>

    <!-- ✅ زر CTA -->
    <div class="mt-16 text-center">
      <a
        routerLink="/productdetailes"
        class="inline-block px-8 py-3 rounded-full bg-[var(--color-primary)] text-white font-semibold hover:bg-blue-700 transition-all duration-300 shadow-lg"
      >
        {{ "PRODUCTS_SECTION.CTA" | translate }}
      </a>
    </div>
  </div>
</section>

<section
  id="partners-section"
  class="relative py-32 px-6 text-center text-[var(--color-text-main)] overflow-hidden opacity-0 transition-opacity duration-700 ease-in-out"
  [animateOnView]="'animate-fade-in'"
>
  <!-- ✅ صورة الخلفية -->
  <img
    src="/img/partnership.webp"
    alt="Partnership background"
    class="absolute inset-0 w-full h-full object-cover z-0"
    loading="lazy"
    decoding="async"
    width="1920"
    height="1080"
  />

  <!-- ✅ طبقة الشفافية -->
  <div class="absolute inset-0 bg-black/40 dark:bg-black/60 z-0"></div>

  <!-- ✅ المحتوى -->
  <div class="relative z-10 max-w-6xl mx-auto">
    <!-- ✅ العنوان -->
    <h2
      class="text-4xl sm:text-5xl font-extrabold mb-4 text-[var(--color-primary)]"
    >
      {{ "PARTNERS_SECTION.TITLE_MAIN" | translate }}
    </h2>
    <p class="text-base text-white sm:text-lg max-w-xl mx-auto mb-20">
      {{ "PARTNERS_SECTION.SUBTITLE" | translate }}
    </p>

    <!-- ✅ دائرة الشركاء -->
    <div class="relative w-full max-w-[600px] h-[600px] mx-auto">
      <!-- ✅ الدائرة المركزية -->
      <div
        class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10"
      >
        <div
          class="w-40 h-40 rounded-full bg-[var(--color-primary)] text-white flex items-center justify-center text-lg font-bold shadow-2xl relative"
        >
          {{ "PARTNERS_SECTION.CENTER" | translate }}
          <div
            class="absolute inset-0 rounded-full border-4 border-white animate-ping opacity-50"
          ></div>
        </div>
      </div>

      <!-- ✅ دائرة خارجية متحركة -->
      <div
        class="absolute inset-0 flex items-center justify-center pointer-events-none z-0"
      >
        <div
          class="w-[520px] h-[520px] rounded-full border-2 border-dashed border-[var(--color-primary)] motion-safe:animate-spin-slow"
        ></div>
      </div>

      <!-- ✅ بادجات الشركاء -->
      <div class="absolute top-0 left-1/2 -translate-x-1/2">
        <div class="partner-badge" aria-label="Ultra Chem">
          {{ "PARTNERS_SECTION.PARTNERS.ULTRA_CHEM" | translate }}
        </div>
      </div>

      <div class="absolute top-[20%] left-[5%]">
        <div class="partner-badge" aria-label="Build Tech">
          {{ "PARTNERS_SECTION.PARTNERS.BUILD_TECH" | translate }}
        </div>
      </div>

      <div class="absolute top-[20%] right-[5%]">
        <div class="partner-badge" aria-label="Advance Gypsum">
          {{ "PARTNERS_SECTION.PARTNERS.ADVANCE_GYPSUM" | translate }}
        </div>
      </div>

      <div class="absolute bottom-[20%] left-[5%]">
        <div class="partner-badge" aria-label="Misr Aluminum">
          {{ "PARTNERS_SECTION.PARTNERS.MISR_ALUMINUM" | translate }}
        </div>
      </div>

      <div class="absolute bottom-[20%] right-[5%]">
        <div class="partner-badge" aria-label="Green Panel">
          {{ "PARTNERS_SECTION.PARTNERS.GREEN_PANEL" | translate }}
        </div>
      </div>

      <div class="absolute bottom-0 left-1/2 -translate-x-1/2">
        <div class="partner-badge" aria-label="Nova Cement">
          {{ "PARTNERS_SECTION.PARTNERS.NOVA_CEMENT" | translate }}
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Branches Section -->

<section
  id="branches-section"
  class="relative py-24 px-6 bg-[var(--color-bg-secondary)] text-[var(--color-text-main)] overflow-hidden opacity-0 transition-opacity duration-700 ease-in-out"
  [animateOnView]="'animate-fade-in-up'"
>
  <div class="container mx-auto max-w-6xl">
    <!-- ✅ العنوان -->
    <div class="text-center mb-16">
      <h2
        class="text-4xl sm:text-5xl font-extrabold text-[var(--color-primary)] relative inline-block"
      >
        {{ "BRANCHES_SECTION.TITLE_MAIN" | translate }}
        <span
          class="absolute left-1/2 bottom-[-10px] -translate-x-1/2 w-24 h-1 bg-[var(--color-primary)]"
        ></span>
      </h2>
    </div>

    <div class="grid md:grid-cols-2 gap-10 items-start">
      <!-- ✅ خريطة جوجل -->
      <div
        class="relative rounded-3xl overflow-hidden shadow-xl border border-[var(--color-border)] bg-white dark:bg-white/5 animate-fade-in-up"
      >
        <div
          class="absolute top-4 left-4 z-10 bg-white dark:bg-[var(--color-bg)] text-[var(--color-primary)] px-4 py-1 rounded-full text-sm font-semibold shadow"
        >
          🗺️ {{ "BRANCHES_SECTION.MAP_LABEL" | translate }}
        </div>

        <!-- استخدام aspect ratio لتحسين CLS -->
        <div class="aspect-[4/3] w-full">
          <iframe
            class="w-full h-full"
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3454.6840367718983!2d31.292349075460397!3d30.016811374931112!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14583c89e87c8e11%3A0x1dd6c4199b3dd71e!2z2YXYr9mK2YbZitmC2KfYqiDZhNmE2KfZhtmK2Kkg2KfZhNmF2K_ZitmC2Kkg2KfZhNiv2YrYqQ!5e0!3m2!1sen!2seg!4v1721602273264!5m2!1sen!2seg"
            allowfullscreen
            loading="lazy"
            decoding="async"
            referrerpolicy="no-referrer-when-downgrade"
            title="Google Map Location"
          ></iframe>
        </div>
      </div>

      <!-- ✅ قائمة الفروع -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
        @for ( branch of [ 'BRANCHES_SECTION.BRANCH_1',
        'BRANCHES_SECTION.BRANCH_2', 'BRANCHES_SECTION.BRANCH_3',
        'BRANCHES_SECTION.BRANCH_4', 'BRANCHES_SECTION.BRANCH_5',
        'BRANCHES_SECTION.BRANCH_6', 'BRANCHES_SECTION.BRANCH_7',
        'BRANCHES_SECTION.BRANCH_8' ]; track branch ) {
        <div
          class="group flex items-start gap-4 p-5 bg-white dark:bg-white/5 border border-[var(--color-border)] rounded-2xl shadow transition-all duration-300 hover:shadow-lg hover:border-[var(--color-primary)] animate-fade-in-up"
        >
          <div
            class="w-10 h-10 flex items-center justify-center rounded-full bg-[var(--color-primary)] text-white shrink-0 transition-transform duration-300 group-hover:scale-110"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              viewBox="0 0 24 24"
              aria-hidden="true"
              role="img"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"
              ></path>
              <circle cx="12" cy="9" r="2.5"></circle>
            </svg>
          </div>

          <p
            class="text-sm sm:text-base font-medium text-[var(--color-text-secondary)] leading-snug"
          >
            {{ branch | translate }}
          </p>
        </div>
        }
      </div>
    </div>
  </div>
</section>

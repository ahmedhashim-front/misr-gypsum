<!-- === FAQ SECTION (Premium Design) === -->
<section
  id="faq"
  class="relative py-32 px-6 bg-[var(--color-bg-section)] dark:bg-[var(--color-bg-secondary)] text-[var(--color-text-main)] overflow-hidden"
  [animateOnView]="'animate-fade-in'"
>
  <!-- خلفية مزخرفة -->
  <div
    class="absolute inset-0 bg-[url('/assets/bg-pattern.svg')] bg-repeat opacity-5 dark:opacity-10 pointer-events-none z-0"
  ></div>

  <!-- Header -->
  <div class="max-w-4xl mx-auto text-center mb-20 relative z-10">
    <h2
      class="text-5xl md:text-6xl font-extrabold tracking-tight text-[var(--color-primary)] transition-colors duration-300 hover:text-[var(--color-accent)]"
    >
      {{ "FAQSECTION.TITLE" | translate }}
    </h2>
    <p
      class="mt-4 text-xl text-[var(--color-text-sub)] max-w-2xl mx-auto leading-relaxed"
    >
      {{ "FAQSECTION.SUBTITLE" | translate }}
    </p>
  </div>

  <!-- زر فتح/إغلاق الكل -->
  <div class="text-center mb-12 relative z-10">
    <button
      (click)="toggleAllFaqs()"
      class="inline-flex items-center gap-2 text-white font-semibold px-8 py-3 rounded-full transition-all duration-300 shadow-lg transform hover:scale-105 hover:shadow-2xl faq-toggle-btn"
    >
      <i class="fas fa-layer-group text-white text-base"></i>
      {{
        allOpen
          ? ("FAQSECTION.HIDE_ALL" | translate)
          : ("FAQSECTION.SHOW_ALL" | translate)
      }}
    </button>
  </div>

  <!-- الأسئلة -->
  <div class="max-w-3xl mx-auto space-y-6 relative z-10">
    @for (qa of faqList; track qa.question) {
    <details
      class="group overflow-hidden rounded-3xl border border-transparent bg-white/90 dark:bg-white/5 backdrop-blur-md shadow-lg hover:border-[var(--color-accent)] hover:shadow-[0_0_0_2px_var(--color-accent)] transition-all duration-300"
      [attr.open]="allOpen ? '' : null"
    >
      <summary
        class="flex items-center justify-between px-6 py-5 cursor-pointer text-start text-lg font-semibold text-[var(--color-primary)] hover:text-[var(--color-accent)] transition-all duration-300"
      >
        <span class="flex items-center gap-3">
          <i
            class="fas fa-circle-question text-[var(--color-primary)] group-hover:text-[var(--color-accent)] transition-colors duration-300"
          ></i>
          {{ qa.question | translate }}
        </span>

        <!-- علامة زائد فقط -->
        <svg
          class="w-5 h-5 text-[var(--color-accent)] transition-transform duration-300 group-open:rotate-180"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          viewBox="0 0 24 24"
        >
          <line x1="12" y1="5" x2="12" y2="19" stroke-linecap="round" />
          <line x1="5" y1="12" x2="19" y2="12" stroke-linecap="round" />
        </svg>
      </summary>

      <div
        class="px-6 pb-6 pt-0 text-[var(--color-text-sub)] leading-relaxed transition-all duration-500 animate-fade-in"
      >
        {{ qa.answer | translate }}
      </div>
    </details>
    }
  </div>
</section>

<section
  id="testimonials"
  class="relative py-24 px-6 bg-[var(--color-bg)] dark:bg-[var(--color-bg-secondary)] text-[var(--color-text-main)]"
  [animateOnView]="'animate-fade-in'"
>
  <div class="max-w-4xl mx-auto text-center mb-16">
    <h2 class="text-3xl md:text-4xl font-extrabold mb-4 tracking-tight">
      {{ "TESTIMONIALS.TITLE" | translate }}
    </h2>
    <p class="text-lg text-[var(--color-text-sub)]">
      {{ "TESTIMONIALS.SUBTITLE" | translate }}
    </p>
  </div>

  <div
    class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10"
  >
    @for (review of testimonialsList; track review.nameKey) {
    <div
      class="relative bg-white dark:bg-[var(--color-bg)] border border-[var(--color-border)] rounded-2xl shadow-md p-8 transition hover:shadow-xl hover:-translate-y-1 duration-300"
    >
      <div class="absolute -top-6 left-6">
        <svg
          class="w-10 h-10 text-[var(--color-accent)] opacity-20"
          fill="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            d="M7.17 7.59A7 7 0 0 1 14 2v2.13a5 5 0 0 0-4.17 2.5A4.92 4.92 0 0 0 9 10h3v7H5v-5a7 7 0 0 1 2.17-4.41Zm10 0A7 7 0 0 1 24 2v2.13a5 5 0 0 0-4.17 2.5A4.92 4.92 0 0 0 19 10h3v7h-7v-5a7 7 0 0 1 2.17-4.41Z"
          />
        </svg>
      </div>
      <div class="flex items-center gap-4 mb-6">
        <div>
          <h4 class="text-lg font-bold text-[var(--color-primary)]">
            {{ review.nameKey | translate }}
          </h4>
          <span class="text-sm text-[var(--color-text-sub)]">
            {{ review.titleKey | translate }}
          </span>
        </div>
      </div>
      <p class="text-[var(--color-text-sub)] leading-relaxed italic">
        {{ review.feedbackKey | translate }}
      </p>
    </div>
    }
  </div>
</section>
